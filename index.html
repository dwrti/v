<div class="screen-border">
    <div id="tap-overlay"></div>
    <canvas id="noise-canvas"></canvas>
    
    <iframe id="cast-iframe" src="https://cast2tv.app/" 
            style="width:100%; height:100%; border:none; display:none; z-index:5;">
    </iframe>

    <video id="video" controls playsinline></video>
</div>

<button onclick="toggleGlobalCast()" style="background:#e67e22; margin-top:5px;">
    تفعيل وضع Cast للجميع
</button>

<script>
    // هذه الوظيفة تجعل كل من يفتح الصفحة (أنت وأصدقاؤك) ينتقلون لصفحة cast2tv معاً
    function toggleGlobalCast() {
        if (!isAdmin) return;
        syncRef.update({ 
            showCastPage: true,
            tvPower: true 
        });
    }

    // داخل وظيفة handleSyncUpdate(data) الموجودة في كودك، أضف هذا المنطق:
    function handleSyncUpdate(data) {
        // ... الأكواد القديمة حقتك لا تلمسها ...

        const castIframe = document.getElementById('cast-iframe');
        
        if (data.showCastPage) {
            video.style.display = 'none';
            castIframe.style.display = 'block';
            toggleStatic(false);
        } else {
            castIframe.style.display = 'none';
        }
        
        // ... باقي الكود ...
    }
</script>
